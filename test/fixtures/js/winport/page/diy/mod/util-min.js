(function(d,c){var a={"winport-header .p32-m0":["main-wrap"],"winport-content .p32-m0":["main-wrap"],"winport-content .p32-s5m0":["grid-sub","main-wrap"],"winport-content .p32-m0s5":["main-wrap","grid-sub"],"winport-footer .p32-m0":["main-wrap"]};var b={prevBox:function(f){var g=d(f).prev("div.mod-box:not(.ui-portlets-placeholder)");if(d("div.mod",g).length===0){g=g.prev("div.mod-box:not(.ui-portlets-placeholder)")}return g},nextBox:function(g){var f=d(g).next("div.mod-box:not(.ui-portlets-placeholder)");if(d("div.mod",f).length===0){f=f.next("div.mod-box:not(.ui-portlets-placeholder)")}return f},getDstRegion:function(h,n){var k=null,m=this.getComponentArea(h.closest("div.region")),i=this.getComponentArea(h.closest("div.layout")),j=this.getComponentArea(h.closest("div.segment")),f=j+" ."+i,g=a[f];if(d.isArray(g)&&g.length>0){var l=d.inArray(m,g);len=g.length;if(n==="right"&&l<len-1){k=g[l+1]}else{if(n==="left"&&l>0){k=g[l-1]}}}else{d.log(h+" is illegal!","error")}return{name:k,obj:d("#"+f+" ."+k)}},getComponentArea:function(f){var g,h=" "+f[0].className+" ";if(f.hasClass("region")){return/.*\s(main-wrap|grid-sub|extra)\s.*/i.exec(h)[1]}else{if(f.hasClass("layout")){return/.*\s(p32-s5m0|p32-m0s5|p32-m0)\s.*/i.exec(h)[1]}else{if(f.hasClass("segment")){return/(winport-header|winport-content|winport-footer|winport-fly)/i.exec(f[0].id)[1]}else{return null}}}},boxInLeft:function(g){var f=g.data("inleft");if(typeof f==="undefined"){f=e(g)}return f}};function e(i){var f,k=b.getComponentArea(i.closest("div.region")),h=b.getComponentArea(i.closest("div.layout")),g=b.getComponentArea(i.closest("div.segment")),j=a[g+" ."+h];if(d.isArray(j)&&j.length>0){f=j[0]===k;i.data("inleft",f)}else{d.error(i+" is illegal!","error");return}return f}if(!c.diy.BoxUtil){c.diy.BoxUtil=b}})(jQuery,Platform.winport);