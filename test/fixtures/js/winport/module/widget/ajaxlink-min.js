(function(d,c){var e=c.Util;var a=function(f,g){f=d(f);g=g||{};f.data("ajaxLinkOptions",g);f.click(function(i){i.preventDefault();var h=d(this);if(h.data("ajaxLinkRunning")){return}if(g.confirm&&g.confirm.call(this)){a.load(this)}})};a.load=function(i,j){i=d(i);var g=i.data("ajaxLinkOptions");if(!g){throw"ajaxOptions not exists"}var f=i.data(g.urlField||"linkUrl"),h=b(i,g);f=j?e.formatUrl(f,j):f;i.data("ajaxLinkRunning",true);g.before&&g.before.apply(i[0]);d.ajax(f,h)};function b(i,g){var h=d.extend({},g),j=g.success,f=g.complete;if(h.update){h.success=function(k){d(g.update).html(k);j&&j.apply(i[0],arguments)};delete h.update}h.complete=function(){i.removeData("ajaxLinkRunning");f&&f.apply(i[0],arguments)};delete h.confirm;delete h.before;return h}c.widget.AjaxLink=a;d.add("wp-ajaxlink")})(jQuery,Platform.winport);