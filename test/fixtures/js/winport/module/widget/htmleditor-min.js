(function(d,c){var a={mode:"exact",theme:"advanced",skin:"aliRTE",plugins:"contextmenu,aliwindow,paste,table,aliCCBUImage,advlink,aliFilter,aliGroup,aliViewAndCode,aliResize,aliTracelog,aliMultiLanguage",width:600,height:350,theme_advanced_buttons1:"image,table,module",theme_advanced_buttons2:"undo,fontselect,fontsizeselect,forecolor,backcolor,|,bold,italic,underline,strikethrough,group,|,justifyleft,justifycenter,justifyright,|,group,group,|,charmap,|,link,unlink",theme_advanced_buttons3:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_font_sizes:"\u4E00\u53F7=26pt;\u5C0F\u4E00=24pt;\u4E8C\u53F7=22pt;\u5C0F\u4E8C=18pt;\u4E09\u53F7=16pt;\u5C0F\u4E09=15pt;\u56DB\u53F7=14pt;\u5C0F\u56DB=12pt;\u4E94\u53F7=10pt;\u5C0F\u4E94=9pt;\u516D\u53F7=7.5pt;\u5C0F\u516D=6.5pt;\u4E03\u53F7=5.5pt;\u516B\u53F7=5pt",theme_advanced_fonts:"\u5B8B\u4F53=simsun;\u9ED1\u4F53=simhei;\u6977\u4F53=\u6977\u4F53_GB2312;\u96B6\u4E66=\u96B6\u4E66;\u5E7C\u5706=\u5E7C\u5706;\u4EFF\u5B8B=\u4EFF\u5B8B_GB2312;\u5FAE\u8F6F\u96C5\u9ED1=\u5FAE\u8F6F\u96C5\u9ED1",theme_advanced_resizing:true,language:"cn",strongToolbar:"1",strong_Button:{image:["aliButtonS btn-f-left","aliButtonS btn-f-left aliButtonSmo"],table:["aliButtonS btn-f-left","aliButtonS btn-f-left aliButtonSmo"],module:["aliButtonS btn-f-left","aliButtonS btn-f-left aliButtonSmo"]},group_set:[{title:"\u4E0A\u4E0B\u6807",icon:"/themes/advanced/skins/aliRTE/img/icon-sup.gif",buttons:"sup,sub",tracelog:"topmark,submark"},{title:"\u7F16\u53F7",icon:"/themes/advanced/skins/aliRTE/img/icon-bullist.gif",buttons:"bullist,numlist",tracelog:"projectnum,digitalnum"},{title:"\u7F29\u8FDB",icon:"/themes/advanced/skins/aliRTE/img/icon-indent.gif",buttons:"indent,outdent",tracelog:"addindent,subindent"}],textTotal:50000,resize_set:{maxHeight:1500,minHeight:500,stepHeight:200},tracelog:"wpdiy_aliRTE",custom_i18n:{"cn.aliResize":{isLargest:"\u7F16\u8F91\u5668\u5DF2\u7ECF\u662F\u6700\u5927\u4E86",isSmallest:"\u7F16\u8F91\u5668\u5DF2\u7ECF\u662F\u6700\u5C0F\u4E86"},"en.advlink_dlg":{msginfo:"You can insert all links.",errorMsg:"URL permission denied"},"cn.aliimage":{validFailNotLogin:"\u60A8\u9700\u8981\u767B\u5F55\u624D\u53EF\u4EE5\u4E0A\u4F20\u56FE\u7247",validFailNormal:"\u62B1\u6B49\uFF0C\u670D\u52A1\u5668\u9519\u8BEF\uFF0C\u56FE\u7247\u4E0A\u4F20\u5931\u8D25\u3002",availableDomainsInfo:"\u53EA\u5141\u8BB8\u63D2\u5165\u4EE5\u4E0B\u57DF\u540D\u4E0B\u7684\u56FE\u7247\uFF08{#domain}\uFF09",validFailInvalidDomain:"\u56FE\u7247\u5730\u5740\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165"}},table_default_border:1,table_default_width:"680",table_default_class:"aliRTE-table",table_col_limit:12,table_row_limit:128,link_config:{allow_all:false,is_ali_only:false,white_list:["*.aliui.com","*.aliued.com"]},aliimage_config:{allow_all:true,is_ali_only:false,fileTypes:"",fileCountLimit:10,allowUpload:true,allowAlbum:true,allowWeb:true,allow_all:true,is_ali_only:false,uploadVars_flash:{source:"offer_biz"},uploadVars_html:{source:"offer_biz"},compressSize:5*1024*1024,compressWidth:1024,compressHeight:1024,compressQuality:93,uploadSizeLimit:1*1024*1024,sizeLimitEach:640*1024,supportFileTypes:["jpg","jpeg","gif","bmp","png"],fileCountLimit:10,fileFieldName:"imgFile",uploadUrl:"",checkUrl:"",fetch_summinfo_url:"",fetch_piclist_url:"",fetch_albumlist_url:"",response_to_result_object:function(j,k){var f=j.result=="success",g=function(l){if(!l){return""}return typeof(l)=="string"?l:l[0]},i=f?"":g(j.errMsg),h;switch(i){case"imgTooBig":h="1000";break;case"maxImageSpaceExceed":h="1600";break;case"maxImgPerAlbumExceeded":h="1700";break;case"imgTypeErr":h="1100";break;default:h="1500";break}return{success:f,errorCode:h,filePath:f?g(j.imgUrls):null,thumb:f?g(j.miniImgUrls):null,id:f?j.dataList[0]:null,errMsg:i}},imgPrefix:"",fetch_piclist_url:"/album/ajax/image_detail_list.json",fetch_albumlist_url:"/album/ajax/album_puller_ajax.json",break_after_image:"<br/><br/>"},paste_retain_style_properties:"color,background-color,font,font-size,font-weight,font-family,font-style,border-top,border-right,border-bottom,border-left,border-color,border-width,border-style",paste_auto_cleanup_on_paste:true,paste_block_drop:true,invalid_elements:"script,link,iframe,frame,frameset,style,embed,object,html,head,body,meta,title,base,!DOCTYPE,applet,textarea,xml,param,code,form",extended_valid_elements:"marquee[align|behavior|bgcolor|direction|height|width|hspace|vspace|loop|scrollamount|scrolldelay]",content_css:"",template_external_list_url:"",external_link_list_url:"",external_image_list_url:"",media_external_list_url:"",template_replace_values:{username:"Some User",staffid:"991234"}};d.getScript("http://style.china.alibaba.com/app/alirte/jscripts/tiny_mce/tiny_mce.js");var e=c.Util;var b=e.mkclass({init:function(g,f){if(!b.isPrepared){b.prepare()}this.elm=d(g).eq(0);this.config=this._prepareConfig(f);this._initEditor()},_prepareConfig:function(g){g=g||{};var f=d.extend({},a);this.id=this._getEditorId();f.elements=this.id;f.aliimage_config=d.extend({},f.aliimage_config,{uploadUrl:g.uploadUrl,fetch_summinfo_url:g.fetchSummInfoUrl,fetch_piclist_url:g.fetchPicListUrl,fetch_albumlist_url:g.fetchAlbumListUrl,fetch_piccount_url:g.fetchPicCountUrl,add_album_url:g.addAlbumUrl});if(g.focus){f.auto_focus=this.id}return f},_getEditorId:function(){var g=this.elm,f=g.attr("id");if(!f){f="html-editor-"+d.now();g.attr("id",f)}return f},_initEditor:function(){var f=this.config;tinyMCE.init(f)},update:function(){var f=tinyMCE.get(this.id);f.execCommand("beforeSubmit");f.save();this._filterHTML()},_filterHTML:function(f){var f=this.elm.val();f=f.replace(/<!--[^>]*-->/g,"");this.elm.val(f)},close:function(){if(this.isClosed){return}var f=tinyMCE.get(this.id);f.remove();f.destroy();this.isClosed=true},focus:function(){tinyMCE.execCommand("mceFocus",true,this.id)}});d.extend(b,{prepare:function(){if(this.isPrepared){return}var g=d("#doc").data("doc-config"),f=['<input id="has-album-value" type="hidden" value="true" />','<input name="_csrf_token" type="hidden" value="{0}" />','<input name="haswinport" type="hidden" value="true" />'].join("\n");f=d.util.substitute(f,[g._csrf_token]);d("body").append(f);window.isTP=g.isTP;this.isPrepared=true}});c.widget.HtmlEditor=b;d.add("wp-htmleditor")})(jQuery,Platform.winport);