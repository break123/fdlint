(function(c,b){var d=b.widget.InstantValidator;var a=function(f,e){this.context=f;this.config=e||{}};a.Content='<div class="<%=className%>">			<ul>			    <li class="pagination"></li>			    <li>共<em class="page-count"> </em>页/<em class="item-count"></em><%=itemUnit%> 到<input class="pnum" maxlength="4" autocomplete="off" type="text">页</li>			    <li><a class="goto-page" href="#"><span class="btn-l"><em>确 定</em></span><span class="btn-r"></span></a></li>			</ul>		</div>';a.DefaultClass={className:"common-paging",itemUnit:"个"};a.prototype={init:function(g,e,f){this.pageSize=e;this.create();this.pageSubmit();this.pageNumInit();this.render(g,Math.ceil(f/e),f)},create:function(){var f=c.extend({},a.DefaultClass,this.config.css),e=c(FE.util.sweet(a.Content).applyData(f));this.context.append(e);this.pagination=c("li.pagination",e);this.pageCount=c("em.page-count",e);this.itemCount=c("em.item-count",e);this.pageNum=c("input.pnum",e);this.gotoPage=c("a.goto-page",e)},pageSubmit:function(){this.gotoPage.bind("click",this,function(k){var g=k.data,j=g.pageNum.val()*1,f=g.pageCount.html()*1,i=g.itemCount.html()*1,h=c("a.current",g).html()*1;if(j===0||j===h){return false}j=(j>f)?f:(j>1)?j:1;if(g.config.pageSubmit){g.config.pageSubmit.call(g,j)}g.render(j,f,i);return false})},pageNumInit:function(){this.pageNum.bind("focus",function(){this.select()});this.pageNum.bind("keydown",this,function(f){if(f.keyCode&&f.keyCode==13){f.data.gotoPage.click();this.select()}});d.validate(this.pageNum,"pagenum")},render:function(l,h,k){if(l<1){l=1}if(h<1){h=1}if(l>h){l=h}var f=[],j,g;this.pageCount.html(h);this.itemCount.html(k);this.pageNum.data("max",h);if(l==1){f.push('<a class="pre-disabled" href="javascript:;"> </a>');f.push('<a class="current" href="javascript:;">1</a>')}else{f.push('<a class="pre" href="javascript:;" data-page="'+(l-1)+'"> </a>');f.push('<a href="javascript:;" data-page="1">1</a>')}if(h>1){if(l>4&&h>7){f.push('<a class="omit" href="javascript:;">...</a>')}if(l<3){j=0;g=l==1?5:4;if(l+g>h){g=h-l}}else{if(l==3){j=1;g=3;if(l+g>h){g=h-l}}else{j=2;g=2;if(l+g>h){g=h-l}j=4-g;if(l+3>h){j++}if(l-j<2){j=l-2}}}for(var e=j;0<e;e--){f.push('<a href="javascript:;" data-page="'+(l-e)+'">'+(l-e)+"</a>")}if(l>1){f.push('<a class="current" href="javascript:;">'+l+"</a>")}for(var e=1;e<g+1;e++){f.push('<a href="javascript:;" data-page="'+(l+e)+'">'+(l+e)+"</a>")}if(l+g<h-1){f.push('<a class="omit" href="javascript:;">...</a>');f.push('<a href="javascript:;" data-page="'+h+'">'+h+"</a>")}if(l+g==h-1){f.push('<a href="javascript:;" data-page="'+h+'">'+h+"</a>")}}if(l==h){f.push('<a class="next-disabled" href="javascript:;">下一页</a>')}else{f.push('<a class="next" href="javascript:;" data-page="'+(l+1)+'">下一页</a>')}this.pagination.html(f.join(""));if(this.config.onRender){this.config.onRender.call(this)}if(this.pageNum.val()&&this.pageNum.val()*1>h){this.pageNum.val(l)}c("a[data-page]",this.pagination).bind("click",this,function(n){var i=n.data,m=c(this).data("page")*1;i.render(m,h);if(i.config.pageClick){i.config.pageClick.call(i,m)}return false})}};b.widget.Paging=a;c.add("wp-paging")})(jQuery,Platform.winport);