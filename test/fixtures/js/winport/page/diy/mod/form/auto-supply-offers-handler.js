(function(g,e){var c=e.diy.form.SimpleHandler,h=e.widget.InstantValidator,b="";e.diy.form.AutoSupplyOffersHandler=g.extendIf({init:function(){c.init.apply(this,arguments);var i=this.form;b=g("a.auto-offer-preview-a",i)[0].href;d(i);f();a(i)}},c);function d(l){var m=g("#price-filter"),k=g("input.price-start"),j=g("input.price-end"),i=g("div.price-scope-wrap",l);if(m[0].checked){i.css("visibility","visible")}m.click(function(){if(this.checked){i.css("visibility","visible")}else{i.css("visibility","hidden");k.val("");j.val("")}})}function f(){h.validate("input.price-start,input.price-end","price")}function a(i){g("a.auto-offer-preview-a",i).bind("click",function(){var k={};k.userDefined=true;var j=g("input.keywords",i).val();if(g.trim(j)!==""){k.keywords=j}k.catId=g("select[name=catId]",i).val();if(!g("#all-type-offers-radio")[0].checked){k.groupFilter=g("#group-offers-radio")[0].checked;k.privateFilter=g("#private-offers-radio")[0].checked;k.mixFilter=g("#mix-offers-radio")[0].checked}k.priceFilter=g("#price-filter")[0].checked;if(k.priceFilter){k.priceStart=g("input.price-start",i).val();k.priceEnd=g("input.price-end",i).val()}this.href=e.Util.formatUrl(b,g.paramSpecial(k)+"#search-bar-in-column")})}})(jQuery,Platform.winport);