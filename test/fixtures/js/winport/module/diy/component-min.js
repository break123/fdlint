(function(c,b){var a=c.extendIf({getPageLayout:function(){var g=this,i=c("#content"),f=this._getData(i,"contentConfig",e);return JSON.stringify(f[0]);function e(m,l){var k=c("div.segment",m);l.segments=g._getData(k,"segmentConfig",j)}function j(k,l){var m=c("div.layout-box",k);l.layouts=g._getData(m,"boxConfig",d)}function d(k,l){var m=c("div.region",k);l.regions=g._getData(m,"regionConfig",h)}function h(m,l){var k=c("div.mod-box:not(.ui-portlets-placeholder)",m);l.widgets=g._getData(k,"boxConfig")}},_getData:function(f,g,e){var d=[];f.each(function(){var j=c(this),h=j.data(g),i={};h.cid!==undefined&&(i.cid=h.cid);h.sid!==undefined&&(i.sid=h.sid);e&&e(j,i);d.push(i)});return d},getRegionPostData:function(f){var e=this.getContentConfig(),d=f.closest("div.layout-box").data("boxConfig");return{pageCid:e.cid,pageSid:e.sid,segment:f.closest("div.segment").data("segmentConfig").cid,layoutCid:d.cid,layoutSid:d.sid,region:f.data("regionConfig").cid,_csrf_token:this.getDocConfig()._csrf_token}}},b.Component);b.diy.Component=a})(jQuery,Platform.winport);